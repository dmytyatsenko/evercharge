Resources:
  NetToComRedirect:
    Type: 'AWS::ElasticLoadBalancingV2::ListenerRule'
    Properties:
      Conditions:
        - Field: host-header
          Values:
            - staging.evercharge.net
          HostHeaderConfig:
            Values:
              - staging.evercharge.net
      Actions:
        - Type: redirect
          Order: 1
          RedirectConfig:
            Protocol: HTTPS
            Port: '443'
            Host: 'staging.evercharge.com'
            Path: '/#{path}'
            Query: '#{query}'
            StatusCode: HTTP_302
      ListenerArn: !Ref AWSEBV2LoadBalancerListenerHTTPS
      Priority: 1
